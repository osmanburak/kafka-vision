export type Language = 'en' | 'tr';

export const translations = {
  en: {
    title: 'KafkaVision',
    lastUpdated: 'Last updated',
    connecting: 'Connecting...',
    topics: 'Topics',
    consumerGroups: 'Consumer Groups',
    groups: 'Groups',
    showing: 'showing',
    totalMessages: 'Total Messages',
    consumed: 'Consumed',
    connection: 'Connection',
    live: 'Live',
    offline: 'Offline',
    updatesEvery: 'Updates every',
    seconds: 's',
    partition: 'Partition',
    low: 'Low',
    latest: 'Latest',
    current: 'Current',
    diff: 'Diff (Lag)',
    messages: 'Messages',
    consumer: 'Consumer',
    total: 'Total',
    behind: 'behind',
    state: 'State',
    protocol: 'Protocol',
    coordinator: 'Coordinator',
    members: 'Members',
    memberId: 'Member ID',
    clientId: 'Client ID',
    clientHost: 'Client Host',
    assignments: 'Assignments',
    refreshRate: 'Refresh Rate',
    language: 'Language',
    english: 'English',
    turkish: 'Turkish',
    settings: 'Settings',
    noMessages: 'No msgs',
    none: 'None',
    caughtUp: 'Caught up',
    stable: 'Stable',
    partitions: 'Partitions',
    remaining: 'Remaining',
    status: 'Status',
    showAll: 'Show All',
    showBehind: 'Show Behind Only',
    filter: 'Filter',
    searchTopics: 'Search topics...',
    filtered: 'filtered',
    sendMessage: 'Send Message',
    sendMessageTo: 'Send Message to',
    messageKey: 'Message Key',
    messageValue: 'Message Value', 
    messageKeyPlaceholder: 'Enter message key (optional)',
    messageValuePlaceholder: 'Enter message value (JSON, text, etc.)',
    messageValueHint: 'Supports JSON, plain text, or any string value',
    partitionPlaceholder: 'Auto-select partition',
    messageValueRequired: 'Message value is required',
    invalidJson: 'Invalid JSON format',
    messageSent: 'Message sent successfully',
    sendMessageError: 'Failed to send message',
    sending: 'Sending...',
    optional: 'optional',
    offset: 'Offset',
    darkMode: 'Dark Mode',
    noTopicsBehind: 'No topics have behind messages',
    behindMessages: 'Behind Messages',
    viewBehindMessages: 'View behind messages',
    loadingMessages: 'Loading messages...',
    noMessagesFound: 'No messages found in the specified range',
    showingUpTo: 'Showing up to 20 messages that are behind the current consumer offset',
    value: 'Value',
    key: 'Key',
    bytes: 'bytes',
    favorite: 'Favorite',
    unfavorite: 'Unfavorite',
    addToFavorites: 'Add to favorites',
    removeFromFavorites: 'Remove from favorites',
    dragToReorder: 'Hover over cards and drag the grip handles to reorder',
    dragTooltip: 'Drag to reorder',
    dragPanelsTooltip: 'Hover over panels and drag the grip handles to reorder main sections',
    dragPanelTooltip: 'Drag to reorder panel',
    connectionManager: 'Connection Manager',
    addConnection: 'Add Connection',
    connectionName: 'Connection Name',
    brokerAddresses: 'Broker Addresses (e.g., localhost:9092)',
    production: 'Production',
    staging: 'Staging',
    development: 'Development',
    test: 'Test',
    default: 'Default',
    save: 'Save',
    cancel: 'Cancel',
    active: 'Active',
    testConnection: 'Test Connection',
    connect: 'Connect',
    connectionSuccessful: 'Connection successful',
    connectionFailed: 'Connection failed',
    login: 'Login',
    logout: 'Logout',
    username: 'Username',
    password: 'Password',
    showPassword: 'Show password',
    hidePassword: 'Hide password',
    loginTitle: 'Login to Kafka Monitoring System',
    loginButton: 'Sign In',
    loginError: 'Invalid username or password',
    loggingIn: 'Logging in...',
    welcomeUser: 'Welcome',
    adminSettings: 'Admin Settings',
    ldapConfiguration: 'LDAP Configuration',
    ldapEnabled: 'Enable LDAP Authentication',
    ldapUrl: 'LDAP Server URL',
    ldapBindDn: 'Bind DN',
    ldapBindPassword: 'Bind Password',
    ldapSearchBase: 'Search Base',
    ldapSearchFilter: 'Search Filter',
    ldapTlsRejectUnauthorized: 'Reject Unauthorized TLS',
    applicationSettings: 'Application Settings',
    sessionSecret: 'Session Secret',
    localAdminPassword: 'Local Admin Password',
    saveSettings: 'Save Settings',
    settingsSaved: 'Settings saved successfully',
    settingsError: 'Error saving settings',
    testLdapConnection: 'Test LDAP Connection',
    ldapTestSuccess: 'LDAP connection successful',
    ldapTestError: 'LDAP connection failed',
    accessDenied: 'Access denied. Admin privileges required.',
    confirmSaveSettings: 'Are you sure you want to save these settings? This will restart the authentication system.',
    restartRequired: 'Settings saved. The application will restart to apply changes.',
    close: 'Close',
    ldapSettings: 'LDAP Settings',
    userManagement: 'User Management',
    loading: 'Loading...',
    refresh: 'Refresh',
    loadingUsers: 'Loading users...',
    userTableUsername: 'Username',
    displayName: 'Display Name',
    email: 'Email',
    userStatusLabel: 'Status',
    role: 'Role',
    lastLogin: 'Last Login',
    actions: 'Actions',
    userStatus: {
      pending: 'Pending',
      active: 'Active',
      rejected: 'Rejected'
    },
    roleUser: 'User',
    roleAdmin: 'Admin',
    approveUser: 'Approve User',
    rejectUser: 'Reject User',
    deleteUser: 'Delete User',
    noUsers: 'No users found',
    pendingApprovalTitle: 'Approval Pending',
    pendingApprovalMessage: 'Your account is pending approval from an administrator.',
    pendingApprovalInfo: 'An administrator will review your access request soon. You will be able to access the system once approved.',
    checkStatus: 'Check Status',
    checkingStatus: 'Checking...',
    selectLanguage: 'Select Language',
    confirmDelete: 'Confirm Delete',
    confirmDeleteUser: 'Are you sure you want to delete user {{username}}? This action cannot be undone.',
    restartRequiredMessage: 'The application needs to restart to apply the changes. Click Restart to reload the page.',
    restart: 'Restart',
    confirm: 'Confirm',
    createTopic: 'Create Topic',
    topicName: 'Topic Name',
    topicNamePlaceholder: 'Enter topic name (e.g., my-topic)',
    topicNameHint: 'Use letters, numbers, dots, underscores, and hyphens only',
    topicNameRequired: 'Topic name is required',
    invalidTopicName: 'Invalid topic name format',
    replicationFactor: 'Replication Factor',
    replicationFactorHint: 'Number of replicas for each partition (1-10)',
    partitionsHint: 'Number of partitions for the topic (1-100)',
    invalidPartitionCount: 'Partition count must be between 1 and 100',
    invalidReplicationFactor: 'Replication factor must be between 1 and 10',
    topicCreated: 'Topic created successfully',
    createTopicError: 'Failed to create topic',
    topicAlreadyExists: 'Topic already exists',
    creating: 'Creating...',
    deleteTopic: 'Delete Topic',
    deleteTopicTitle: 'Delete Topic',
    deleteTopicWarning: '⚠️ This action cannot be undone!',
    deleteTopicConfirmText: 'Are you sure you want to delete topic',
    deleteTopicTypeConfirm: 'To confirm, type the topic name below',
    deleteTopicConfirm: 'Delete Topic',
    deleteTopicConsequences: 'Deleting this topic will result in:',
    deleteTopicConsequence1: 'All messages in the topic will be permanently lost',
    deleteTopicConsequence2: 'All consumer groups subscribed to this topic will be affected',
    deleteTopicConsequence3: 'Any applications producing to this topic will receive errors',
    deleting: 'Deleting...',
    warning: 'Warning',
    batchMode: 'Batch Mode',
    batchModeOn: 'Send multiple messages',
    batchModeOff: 'Send single message',
    messageValues: 'Message Values',
    batchMessagesPlaceholder: 'Enter messages, one per line',
    batchMessagesHint: 'Each line will be sent as a separate message',
    batchMessagesRequired: 'At least one message is required',
    messageCount: 'Message Count',
    messageCountHint: 'Max 1000',
    invalidMessageCount: 'Message count must be between 1 and 1000',
    sendMessages: 'Send Messages',
    messagesSent: '{{count}} messages sent successfully',
    sendingProgress: 'Sending {{current}}/{{total}}'
  },
  tr: {
    title: 'KafkaVision',
    lastUpdated: 'Son güncelleme',
    connecting: 'Bağlanıyor...',
    topics: 'Konular',
    consumerGroups: 'Tüketici Grupları',
    groups: 'Grup',
    showing: 'gösteriliyor',
    totalMessages: 'Toplam Mesaj',
    consumed: 'Tüketilen',
    connection: 'Bağlantı',
    live: 'Canlı',
    offline: 'Çevrimdışı',
    updatesEvery: 'Her',
    seconds: 's güncellenir',
    partition: 'Bölüm',
    low: 'Düşük',
    latest: 'Son',
    current: 'Mevcut',
    diff: 'Fark (Gecikme)',
    messages: 'Mesaj',
    consumer: 'Tüketici',
    total: 'Toplam',
    behind: 'geride',
    state: 'Durum',
    protocol: 'Protokol',
    coordinator: 'Koordinatör',
    members: 'Üyeler',
    memberId: 'Üye ID',
    clientId: 'İstemci ID',
    clientHost: 'İstemci Host',
    assignments: 'Atamalar',
    refreshRate: 'Yenileme Hızı',
    language: 'Dil',
    english: 'İngilizce',
    turkish: 'Türkçe',
    settings: 'Ayarlar',
    noMessages: 'Mesaj yok',
    none: 'Yok',
    caughtUp: 'Güncel',
    stable: 'Kararlı',
    partitions: 'Bölümler',
    remaining: 'Kalan',
    status: 'Durum',
    showAll: 'Tümünü Göster',
    showBehind: 'Sadece Geridekiler',
    filter: 'Filtre',
    searchTopics: 'Konu ara...',
    filtered: 'filtrelendi',
    sendMessage: 'Mesaj Gönder',
    sendMessageTo: 'Mesaj Gönder:',
    messageKey: 'Mesaj Anahtarı',
    messageValue: 'Mesaj İçeriği',
    messageKeyPlaceholder: 'Mesaj anahtarı girin (isteğe bağlı)',
    messageValuePlaceholder: 'Mesaj içeriği girin (JSON, text, vb.)',
    messageValueHint: 'JSON, düz metin veya herhangi bir string değer destekler',
    partitionPlaceholder: 'Otomatik bölüm seçimi',
    messageValueRequired: 'Mesaj içeriği gereklidir',
    invalidJson: 'Geçersiz JSON formatı',
    messageSent: 'Mesaj başarıyla gönderildi',
    sendMessageError: 'Mesaj gönderilemedi',
    sending: 'Gönderiliyor...',
    optional: 'isteğe bağlı',
    offset: 'Offset',
    darkMode: 'Karanlık Mod',
    noTopicsBehind: 'Geride mesajı olan konu yok',
    behindMessages: 'Gerideki Mesajlar',
    viewBehindMessages: 'Gerideki mesajları görüntüle',
    loadingMessages: 'Mesajlar yükleniyor...',
    noMessagesFound: 'Belirtilen aralıkta mesaj bulunamadı',
    showingUpTo: 'Mevcut tüketici offset değerinin gerisindeki en fazla 20 mesaj gösteriliyor',
    value: 'Değer',
    key: 'Anahtar',
    bytes: 'bayt',
    favorite: 'Favori',
    unfavorite: 'Favori Değil',
    addToFavorites: 'Favorilere ekle',
    removeFromFavorites: 'Favorilerden çıkar',
    dragToReorder: 'Kartların üzerine gelin ve sürükle tutamaklarını kullanarak yeniden sıralayın',
    dragTooltip: 'Yeniden sıralamak için sürükleyin',
    dragPanelsTooltip: 'Panellerin üzerine gelin ve ana bölümleri yeniden sıralamak için sürükle tutamaklarını kullanın',
    dragPanelTooltip: 'Paneli yeniden sıralamak için sürükleyin',
    connectionManager: 'Bağlantı Yöneticisi',
    addConnection: 'Bağlantı Ekle',
    connectionName: 'Bağlantı Adı',
    brokerAddresses: 'Broker Adresleri (örn: localhost:9092)',
    production: 'Üretim',
    staging: 'Hazırlık',
    development: 'Geliştirme',
    test: 'Test',
    default: 'Varsayılan',
    save: 'Kaydet',
    cancel: 'İptal',
    active: 'Aktif',
    testConnection: 'Bağlantıyı Test Et',
    connect: 'Bağlan',
    connectionSuccessful: 'Bağlantı başarılı',
    connectionFailed: 'Bağlantı başarısız',
    login: 'Giriş',
    logout: 'Çıkış',
    username: 'Kullanıcı Adı',
    password: 'Şifre',
    showPassword: 'Şifreyi göster',
    hidePassword: 'Şifreyi gizle',
    loginTitle: 'Kafka İzleme Sistemine Giriş',
    loginButton: 'Giriş Yap',
    loginError: 'Geçersiz kullanıcı adı veya şifre',
    loggingIn: 'Giriş yapılıyor...',
    welcomeUser: 'Hoş geldiniz',
    adminSettings: 'Yönetici Ayarları',
    ldapConfiguration: 'LDAP Yapılandırması',
    ldapEnabled: 'LDAP Kimlik Doğrulamayı Etkinleştir',
    ldapUrl: 'LDAP Sunucu URL\'si',
    ldapBindDn: 'Bağlama DN',
    ldapBindPassword: 'Bağlama Şifresi',
    ldapSearchBase: 'Arama Tabanı',
    ldapSearchFilter: 'Arama Filtresi',
    ldapTlsRejectUnauthorized: 'Yetkisiz TLS\'yi Reddet',
    applicationSettings: 'Uygulama Ayarları',
    sessionSecret: 'Oturum Gizli Anahtarı',
    localAdminPassword: 'Yerel Yönetici Şifresi',
    saveSettings: 'Ayarları Kaydet',
    settingsSaved: 'Ayarlar başarıyla kaydedildi',
    settingsError: 'Ayarlar kaydedilirken hata oluştu',
    testLdapConnection: 'LDAP Bağlantısını Test Et',
    ldapTestSuccess: 'LDAP bağlantısı başarılı',
    ldapTestError: 'LDAP bağlantısı başarısız',
    accessDenied: 'Erişim reddedildi. Yönetici ayrıcalıkları gerekli.',
    confirmSaveSettings: 'Bu ayarları kaydetmek istediğinizden emin misiniz? Bu, kimlik doğrulama sistemini yeniden başlatacak.',
    restartRequired: 'Ayarlar kaydedildi. Değişiklikleri uygulamak için uygulama yeniden başlatılacak.',
    close: 'Kapat',
    ldapSettings: 'LDAP Ayarları',
    userManagement: 'Kullanıcı Yönetimi',
    loading: 'Yükleniyor...',
    refresh: 'Yenile',
    loadingUsers: 'Kullanıcılar yükleniyor...',
    userTableUsername: 'Kullanıcı Adı',
    displayName: 'Görünen Ad',
    email: 'E-posta',
    userStatusLabel: 'Durum',
    role: 'Rol',
    lastLogin: 'Son Giriş',
    actions: 'İşlemler',
    userStatus: {
      pending: 'Beklemede',
      active: 'Aktif',
      rejected: 'Reddedildi'
    },
    roleUser: 'Kullanıcı',
    roleAdmin: 'Yönetici',
    approveUser: 'Kullanıcıyı Onayla',
    rejectUser: 'Kullanıcıyı Reddet',
    deleteUser: 'Kullanıcıyı Sil',
    noUsers: 'Kullanıcı bulunamadı',
    pendingApprovalTitle: 'Onay Bekliyor',
    pendingApprovalMessage: 'Hesabınız bir yönetici tarafından onaylanmayı bekliyor.',
    pendingApprovalInfo: 'Bir yönetici erişim talebinizi yakında inceleyecektir. Onaylandıktan sonra sisteme erişebileceksiniz.',
    checkStatus: 'Durumu Kontrol Et',
    checkingStatus: 'Kontrol ediliyor...',
    selectLanguage: 'Dil Seçin',
    confirmDelete: 'Silmeyi Onayla',
    confirmDeleteUser: '{{username}} kullanıcısını silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.',
    restartRequiredMessage: 'Değişikliklerin uygulanması için uygulamanın yeniden başlatılması gerekiyor. Sayfayı yeniden yüklemek için Yeniden Başlat\'a tıklayın.',
    restart: 'Yeniden Başlat',
    confirm: 'Onayla',
    createTopic: 'Konu Oluştur',
    topicName: 'Konu Adı',
    topicNamePlaceholder: 'Konu adı girin (örn: benim-konum)',
    topicNameHint: 'Sadece harf, rakam, nokta, alt çizgi ve tire kullanın',
    topicNameRequired: 'Konu adı gereklidir',
    invalidTopicName: 'Geçersiz konu adı formatı',
    replicationFactor: 'Çoğaltma Faktörü',
    replicationFactorHint: 'Her bölüm için kopyalama sayısı (1-10)',
    partitionsHint: 'Konu için bölüm sayısı (1-100)',
    invalidPartitionCount: 'Bölüm sayısı 1 ile 100 arasında olmalıdır',
    invalidReplicationFactor: 'Çoğaltma faktörü 1 ile 10 arasında olmalıdır',
    topicCreated: 'Konu başarıyla oluşturuldu',
    createTopicError: 'Konu oluşturulamadı',
    topicAlreadyExists: 'Konu zaten mevcut',
    creating: 'Oluşturuluyor...',
    deleteTopic: 'Konu Sil',
    deleteTopicTitle: 'Konu Sil',
    deleteTopicWarning: '⚠️ Bu işlem geri alınamaz!',
    deleteTopicConfirmText: 'Bu konuyu silmek istediğinizden emin misiniz',
    deleteTopicTypeConfirm: 'Onaylamak için aşağıya konu adını yazın',
    deleteTopicConfirm: 'Konu Sil',
    deleteTopicConsequences: 'Bu konuyu silmek şu sonuçlara yol açacaktır:',
    deleteTopicConsequence1: 'Konudaki tüm mesajlar kalıcı olarak kaybolacak',
    deleteTopicConsequence2: 'Bu konuya abone olan tüm tüketici grupları etkilenecek',
    deleteTopicConsequence3: 'Bu konuya mesaj gönderen uygulamalar hata alacak',
    deleting: 'Siliniyor...',
    warning: 'Uyarı',
    batchMode: 'Toplu Mod',
    batchModeOn: 'Birden fazla mesaj gönder',
    batchModeOff: 'Tek mesaj gönder',
    messageValues: 'Mesaj Değerleri',
    batchMessagesPlaceholder: 'Her satıra bir mesaj yazın',
    batchMessagesHint: 'Her satır ayrı bir mesaj olarak gönderilecek',
    batchMessagesRequired: 'En az bir mesaj gereklidir',
    messageCount: 'Mesaj Sayısı',
    messageCountHint: 'Maks 1000',
    invalidMessageCount: 'Mesaj sayısı 1 ile 1000 arasında olmalıdır',
    sendMessages: 'Mesajları Gönder',
    messagesSent: '{{count}} mesaj başarıyla gönderildi',
    sendingProgress: 'Gönderiliyor {{current}}/{{total}}'
  }
};

// Type to exclude nested objects from translation keys
type TranslationKeys = {
  [K in keyof typeof translations.en]: typeof translations.en[K] extends string ? K : never;
}[keyof typeof translations.en];

export const useTranslation = (language: Language) => {
  const translateState = (state: string) => {
    const stateTranslations: Record<string, Record<Language, string>> = {
      'Stable': { en: 'Stable', tr: 'Kararlı' },
      'Rebalancing': { en: 'Rebalancing', tr: 'Yeniden Dengeleme' },
      'Dead': { en: 'Dead', tr: 'Ölü' },
      'Empty': { en: 'Empty', tr: 'Boş' },
      'Unknown': { en: 'Unknown', tr: 'Bilinmiyor' }
    };
    
    return stateTranslations[state]?.[language] || state;
  };

  const getUserStatusText = (status: string): string => {
    const userStatus = translations[language].userStatus || translations.en.userStatus;
    return (userStatus as any)[status] || status;
  };

  return {
    t: (key: TranslationKeys, params?: Record<string, string>): string => {
      let text = translations[language][key] as string || translations.en[key] as string;
      if (params) {
        Object.keys(params).forEach(param => {
          text = text.replace(new RegExp(`{{${param}}}`, 'g'), params[param]);
        });
      }
      return text;
    },
    getUserStatusText,
    translateState,
    language
  };
};